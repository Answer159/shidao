{"remainingRequest":"D:\\DownLoad\\shidao-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DownLoad\\shidao-vue-master\\src\\components\\contant\\order\\OrderDetail.vue?vue&type=style&index=0&id=3f14a838&scoped=true&lang=css&","dependencies":[{"path":"D:\\DownLoad\\shidao-vue-master\\src\\components\\contant\\order\\OrderDetail.vue","mtime":1650171964171},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":1649392171533},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1649392175068},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\postcss-loader\\src\\index.js","mtime":1649392172459},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1649392170894},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1649392173647}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubmF2YmFyIHsKICBoZWlnaHQ6IDgwcHg7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7Cn0KLmRldGFpbHsKICBkaXNwbGF5OiBmbGV4OwogIG1hcmdpbi10b3A6IDQ1cHg7CiAgcGFkZGluZzogMjBweCAyMHB4OwogIGJhY2tncm91bmQtY29sb3I6IHdoaXRlOwogIGJveC1zaGFkb3c6IHJnYmEoMTQ5LCAxNTcsIDE2NSwgMC4yKSAwcHggOHB4IDI0cHg7Cn0KCi5pbWcgewogIHdpZHRoOiAzNy41JTsKfQoKLmltZ2l0ZW17CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQoKaW1newoKICB3aWR0aDogMTAwJTsKICBvdmVyZmxvdzogaGlkZGVuOwoKfQoKLmNvbnRhbnQgewogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgd2lkdGg6IDYyLjUlOwogIHBhZGRpbmctbGVmdDogMzBweDsKfQoKCi5jYXJkIHsKICBoZWlnaHQ6IDMwMHB4OwogIHdpZHRoOiAxMDAlOwp9CgouYXZhdGFyIHsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogMjAlOwogIG92ZXJmbG93OiBoaWRkZW47Cn0KCi50eHQgewogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbi1sZWZ0OiA1MHB4Owp9CgoudXNlcm5hbWUgewogIGhlaWdodDogMjVweDsKICBsaW5lLWhlaWdodDogMjVweDsKICBjb2xvcjogYmxhY2s7CiAgbWFyZ2luLXRvcDogMTBweDsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zYW1sbCk7Cn0KCi5jbGFzc2VzIHsKICBoZWlnaHQ6IDc1cHg7CiAgY29sb3I6IHZhcigtLWNvbG9yLWZvbnQpOwogIGZvbnQtc2l6ZTogdmFyKC0tZm9udC1zaXplLXNhbWxsKTsKfQoKLmRvbWFpbiB7CiAgaGVpZ2h0OiAyNXB4OwogIGxpbmUtaGVpZ2h0OiAyNXB4OwogIGNvbG9yOiB2YXIoLS1jb2xvci1mb250KTsKICBmb250LXNpemU6IHZhcigtLWZvbnQtc2l6ZS1zYW1sbCk7Cn0KLm9yZGVyVGV4dHsKICBtYXJnaW4tdG9wOiAxMHB4OwogIG1hcmdpbi1sZWZ0OiAxMHB4Owp9Ci5idXR0b257CiAgbWFyZ2luLXRvcDogMTBweDsKICBtYXJnaW4tbGVmdDogMTBweDsKfQo="},{"version":3,"sources":["OrderDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderDetail.vue","sourceRoot":"src/components/contant/order","sourcesContent":["<template>\n  <div>\n    <el-row>\n    <div class=\"navbar\">\n      <el-row>\n        <el-col :span=\"20\" :offset=\"2\">\n          <search-result-nav-bar class=\"bar\" ></search-result-nav-bar>\n        </el-col>\n      </el-row>\n    </div>\n    </el-row>\n    <header-back pageName=\"订单详情\"></header-back>\n    <el-row>\n  <div class=\"el-steps--horizontal\" >\n    <el-steps :align-center=\"true\" :space=\"500\" :active=\"showStatus\" finish-status=\"success\">\n      <el-step title=\"有意向\"></el-step>\n      <el-step title=\"发布者确认\"></el-step>\n      <el-step title=\"完成订单\"></el-step>\n    </el-steps>\n  </div>\n    </el-row>\n\n\n<el-row>\n  <div class=\"detail\"  v-if=\"!showFlag\">\n    <div class=\"img\">\n      <el-carousel trigger=\"click\">\n        <el-carousel-item v-for=\"item in classDetail.imgPath\" :key=\"item\">\n          <div class=\"imgitem\"><img :src=\"item\" alt=\"\"></div>\n        </el-carousel-item>\n      </el-carousel>\n    </div>\n    <div class=\"contant\">\n      <div class=\"title title-text\">{{classDetail.title}}</div>\n      <div class=\"score\">\n        <el-rate\n            v-model=\"classDetail.score.toString()\"\n            disabled\n            show-score\n            text-color=\"#ff9900\"\n            :score-template=\"classDetail.score.toString()\">\n        </el-rate>\n      </div>\n<!--      <div class=\"orderText\">交易价格：￥{{order.price}}</div>-->\n<!--      <div class=\"orderText\">课程时长：{{order.suggestTime}}(小时)</div>-->\n      <div class=\"price tag-text\" v-if=\"!sellerConform\">交易价格:￥{{order.price}}</div>\n      <div class=\"price tag-text\" v-if=\"sellerConform\"> 交易价格(元):￥<el-input style=\"width: 100px\" v-model=\"order.price\" @input=\"change($event)\" placeholder=\"\"></el-input></div>\n      <div class=\"time tag-text\" v-if=\"!sellerConform\">课程时长:{{order.suggestTime}}(小时)</div>\n      <div class=\"price tag-text\" v-if=\"sellerConform\"> 课程时长(小时):<el-input style=\"width: 100px\" v-model=\"order.suggestTime\" @input=\"change($event)\" placeholder=\"\"></el-input></div>\n      <div class=\"orderText\">课程介绍：{{classDetail.textIntro}}</div>\n      <div class=\"orderText\">前置知识：{{classDetail.frontKnowledge}}</div>\n      <div class=\"orderText\">教师：{{seller.username}}</div>\n      <div class=\"button\" v-if=\"sellerConform\"> <el-button type=\"primary\" plain @click=\"conformClass\">确认订单</el-button></div>\n      <div class=\"button\" v-if=\"buyerConfirm\"> <el-button type=\"primary\" plain @click=\"finishClass\">确认付款</el-button></div>\n      <div class=\"button\"> <el-button type=\"primary\" plain @click=\"detail\">详细信息</el-button></div>\n    </div>\n  </div>\n\n\n  <div class=\"detail\"  v-if=\"showFlag\">\n        <div class=\"img\">\n          <el-carousel trigger=\"click\">\n            <el-carousel-item v-for=\"item in question.imgPath\" :key=\"item\">\n              <div class=\"imgitem\"><img :src=\"item\" alt=\"\"></div>\n            </el-carousel-item>\n          </el-carousel>\n        </div>\n      <div class=\"contant\">\n        <div class=\"title title-text\">{{question.title}}</div>\n        <div class=\"orderText\" v-if=\"!sellerConform\">交易价格：￥{{order.price}}</div>\n        <div class=\"orderText\" v-if=\"sellerConform\"> 交易价格(元):￥<el-input style=\"width: 100px\" v-model=\"order.price\" placeholder=\"\"></el-input></div>\n        <div class=\"orderText\" v-if=\"!sellerConform\">课程时长：{{order.suggestTime}}(小时)</div>\n        <div class=\"orderTextt\" v-if=\"sellerConform\"> 课程时长(小时):<el-input style=\"width: 100px\" v-model=\"order.suggestTime\" placeholder=\"\"></el-input></div>\n        <div class=\"orderText\">课程介绍：{{question.textIntro}}</div>\n        <div class=\"orderText\">前置知识：{{question.frontKnowledge}}</div>\n        <div class=\"orderText\">教师：{{seller.username}}</div>\n        <div class=\"button\" v-if=\"sellerConform\"> <el-button type=\"primary\" plain @click=\"conformQuestion\">确认订单</el-button></div>\n        <div class=\"button\" v-if=\"buyerConfirm\"> <el-button type=\"primary\" plain @click=\"finishQuestion\">确认收款</el-button></div>\n        <div class=\"button\"> <el-button type=\"primary\" plain @click=\"detailQ\">详细信息</el-button></div>\n      </div>\n  </div>\n</el-row>\n\n\n    <el-row>\n          <el-col>\n\n            <el-card class=\"card\" shadow=\"hover\" body-style=\"{display:flex;}\">\n              <h3>发布者</h3>\n              <div class=\"avatar\"><img :src=\"seller.userImg\" alt=\"\"></div>\n              <div class=\"txt\">\n                <div class=\"username\">用户名: {{seller.username}}</div>\n                <div class=\"username\" v-if=\"seller.sex === 2\">性别: 女</div>\n                <div class=\"username\" v-if=\"seller.sex === 1\">性别: 男</div>\n                <div class=\"username\">擅长领域: {{seller.domainText}}</div>\n                <div class=\"username\">自我介绍: {{seller.selfIntro}}</div>\n                <div class=\"button\"> <el-button type=\"primary\" @click=\"checkOthers\" plain>进入主页</el-button></div>\n              </div>\n            </el-card>\n          </el-col>\n          <el-col>\n\n            <el-card class=\"card\" shadow=\"hover\" body-style=\"{display:flex;}\">\n              <h3>购买者</h3>\n              <div class=\"avatar\"><img :src=\"buyer.userImg\" alt=\"\"></div>\n              <div class=\"txt\">\n                <div class=\"username\">用户名: {{buyer.username}}</div>\n                <div class=\"username\" v-if=\"buyer.sex === 2\">性别: 女</div>\n                <div class=\"username\" v-if=\"buyer.sex === 1\">性别: 男</div>\n                <div class=\"username\">擅长领域: {{buyer.domainText}}</div>\n                <div class=\"username\">自我介绍: {{buyer.selfIntro}}</div>\n                <div class=\"button\"> <el-button type=\"primary\" @click=\"checkOthers\" plain>进入主页</el-button></div>\n              </div>\n            </el-card>\n          </el-col>\n    </el-row>\n\n\n    <el-row>\n      <div v-if=\"showEvaluation\">\n        <h2>请输入您对订单的评价</h2>\n        <el-row>\n          <el-input\n              ref=\"input\"\n              type=\"textarea\"\n              placeholder=\"请输入评价\"\n              v-model=\"textarea\"\n              maxlength=\"300\"\n              show-word-limit\n              :clearable=\"true\"\n              :rows=\"5\"\n          >\n          </el-input>\n        </el-row>\n        <el-row>\n          <el-button @click=\"sendComment\" style=\"margin-left: 92%;margin-top: 10px\" type=\"primary\">发送</el-button>\n        </el-row>\n      </div>\n      <div>\n        <div class=\"list\" v-if=\"showList\">\n          <h2>我的评价</h2>\n          <evaluation :data=\"evaluationVo\"></evaluation>\n        </div>\n      </div>\n    </el-row>\n\n\n<!--  <div>-->\n<!--    <big-class-card></big-class-card>-->\n<!--  </div>-->\n  </div>\n</template>\n\n<script>\nimport {\n  confirmC,\n  confirmClass,\n  confirmQ,\n  finishC,\n  finishQ,\n  postEvaluation,\n  showOrder,\n  showOrderQ\n} from \"../../../network/Order\";\nimport BigClassCard from \"../class/BigClassCard\";\nimport SearchResultNavBar from \"../../../views/searchResult/childComponents/SearchResultNavBar\";\nimport HeaderBack from \"../back/HeaderBack\";\nimport {sendComment} from \"../../../network/comment\";\nimport evaluation from \"../comment/Evaluation\";\nexport default {\n  name:\"OrderDetail\",\n  data() {\n    return {\n      orderTitle:\"订单信息\",\n      active: 0,\n      //0 购买者  1  卖家\n      position:0,\n      order:{},\n      seller:{},\n      buyer:{},\n      classDetail:{},\n      //0--课程 1--提问\n      flag:null,\n      question:{},\n      id: 0,\n      textarea:\"\",\n      evaluationVo:null\n    };\n  },\n  created() {\n    this.id = parseInt(this.$route.query.order_id);\n    this.flag = parseInt(this.$route.query.flag);\n    this.position = parseInt(this.$route.query.position);\n    this.loadData(this.flag);\n  },\n  components:{\n    BigClassCard,\n    SearchResultNavBar,\n    HeaderBack,\n    evaluation\n  },\n  computed:{\n\n    //是卖家并且订单状态为0\n    sellerConform(){\n      if(parseInt(this.order.orderStatus) === 0 && this.position === 1){\n        return true;\n      }\n      return false;\n    },\n\n    showStatus(){\n      return  parseInt(this.order.orderStatus)+1;\n    },\n    //课程还是提问\n    showFlag(){\n     if(this.flag === 0){\n       return false;\n     }\n     else{\n       return true;\n     }\n    },\n    //是否显示评价\n    showEvaluation(){\n      console.log(this.evaluationVo)\n      if(this.evaluationVo === null){\n        return false;\n      }\n      //状态为已结束,为买家，评价为空才显示\n      if(parseInt(this.order.orderStatus) === 2 && this.position === 0 && this.evaluationVo.evaluation === null && this.flag === 0){\n        return true;\n      }\n      else{\n        return false;\n      }\n    },\n    buyerConfirm(){\n      if(parseInt(this.order.orderStatus) === 1 && this.position === 0){\n        return true;\n      }\n    },\n    //评价不为空就显示\n    showList(){\n      if(this.evaluationVo === null){\n        return false;\n      }\n      if(this.evaluationVo.evaluation !== null){\n        return true;\n      }\n      return false;\n    }\n\n  },\n  methods: {\n    detail(){\n      this.$router.push({path:'/class',query:{class_id:this.classDetail.id,canChange:0}})\n    },\n    detailQ(){\n      console.log(this.classDetail);\n      this.$router.push({path:'/question',query:{question_id:this.question.id,canChange:0}})\n    },\n    change(e){\n      this.$forceUpdate();\n    },\n    finishClass(){\n      finishC(this.order.id).then((res)=>{\n        this.$message({\n          type:\"success\",\n          message:`成功确认!`\n        })\n        this.loadData();\n        location.reload();\n      })\n    },\n    finishQuestion(){\n      finishQ(this.order.id).then((res)=>{\n        this.$message({\n          type:\"success\",\n          message:`成功确认!`\n        })\n        this.loadData()\n        location.reload();\n      })\n    },\n    conformClass(){\n      confirmC(this.order.id,this.order.price,this.order.suggestTime).then((res)=>{\n        this.$message({\n          type:\"success\",\n          message:`订单成功确认!`\n        })\n        this.loadData()\n        location.reload();\n      })\n    },\n    conformQuestion(){\n      confirmQ(this.order.id,this.order.price,this.order.suggestTime).then((res)=>{\n        this.$message({\n          type:\"success\",\n          message:`订单成功确认!`\n        })\n        this.loadData()\n        location.reload();\n      })\n    },\n    sendComment(){\n      postEvaluation(this.textarea,this.order.id).then((res)=>{\n        this.$message({\n          type:\"success\",\n          message:`发布评价成功!`\n        })\n        this.textarea = \"\";\n\n      })\n      location.reload();\n    },\n    checkOthers(){\n      this.$router.push({path:'/mainMenu',query:{id:this.seller.id}})\n    },\n    next() {\n      if (this.active++ > 2) this.active = 0;\n    },\n    loadData(flag){\n      const that = this;\n      console.log(flag)\n      if(flag === 0){\n        showOrder(that.id).then((res)=>{\n          that.order = res.data.order_;\n          console.log(that.order);\n          that.buyer = res.data.buyer;\n          that.seller = res.data.seller;\n          that.classDetail = res.data.classInfo;\n          this.evaluationVo= res.data.evaluationVo;\n          console.log(res)\n        })\n      }\n      else{\n        showOrderQ(that.id).then((res)=>{\n          that.order = res.data.orderQ;\n          console.log(that.order);\n          that.buyer = res.data.buyer;\n          that.seller = res.data.seller;\n          that.question = res.data.question;\n          console.log(res)\n        })\n      }\n\n    }\n  }\n}\n</script>\n\n<style scoped>\n.navbar {\n  height: 80px;\n  width: 100%;\n  background-color: black;\n}\n.detail{\n  display: flex;\n  margin-top: 45px;\n  padding: 20px 20px;\n  background-color: white;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n}\n\n.img {\n  width: 37.5%;\n}\n\n.imgitem{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n\nimg{\n\n  width: 100%;\n  overflow: hidden;\n\n}\n\n.contant {\n  box-sizing: border-box;\n  width: 62.5%;\n  padding-left: 30px;\n}\n\n\n.card {\n  height: 300px;\n  width: 100%;\n}\n\n.avatar {\n  float: left;\n  width: 20%;\n  overflow: hidden;\n}\n\n.txt {\n  float: left;\n  margin-left: 50px;\n}\n\n.username {\n  height: 25px;\n  line-height: 25px;\n  color: black;\n  margin-top: 10px;\n  font-size: var(--font-size-samll);\n}\n\n.classes {\n  height: 75px;\n  color: var(--color-font);\n  font-size: var(--font-size-samll);\n}\n\n.domain {\n  height: 25px;\n  line-height: 25px;\n  color: var(--color-font);\n  font-size: var(--font-size-samll);\n}\n.orderText{\n  margin-top: 10px;\n  margin-left: 10px;\n}\n.button{\n  margin-top: 10px;\n  margin-left: 10px;\n}\n</style>"]}]}