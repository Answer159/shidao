{"remainingRequest":"D:\\DownLoad\\shidao-vue-master\\node_modules\\babel-loader\\lib\\index.js!D:\\DownLoad\\shidao-vue-master\\src\\network\\user.js","dependencies":[{"path":"D:\\DownLoad\\shidao-vue-master\\src\\network\\user.js","mtime":1646060188938},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644821604128},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1644821604590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVxdWVzdCB9IGZyb20gJy4vcmVxdWVzdCc7CmltcG9ydCB7IExvZ291dCB9IGZyb20gJy4vbG9naW4nOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOyAvL+eUqOadpeabtOaWsOacrOWcsOeahOeUqOaIt+eKtuaAge+8jOavj+asoeabtOaUueWQjumDveimgeaJp+ihjO+8ge+8gQoKZXhwb3J0IGZ1bmN0aW9uIEdldFVzZXIoKSB7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgdXJsOiAnL3NoaWRhby9mb3JlL0dldFVzZXInLAogICAgbWV0aG9kOiAnZ2V0JwogIH0pOwp9CmV4cG9ydCBmdW5jdGlvbiBVcGRhdGVMb2NhbCgpIHsKICB2YXIgX3RoaXMgPSB0aGlzOwoKICAvL+ivt+axgjXmrKHnm7TliLDmiJDlip/vvIw15qyh5aSx6LSl5by66KGM55m75Ye6CiAgewogICAgR2V0VXNlcigpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmRhdGEubXNnID09PSAic3VjY2VzcyIpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLnVzZXJJbmZvOwogICAgICAgIHN0b3JlLmNvbW1pdCgnU2V0VXNlclN0YXRlJywgewogICAgICAgICAgbG9naW46IDEsCiAgICAgICAgICB1c2VySWQ6IGRhdGEuaWQsCiAgICAgICAgICB1c2VyTmFtZTogZGF0YS51c2VybmFtZSwKICAgICAgICAgIHVzZXJJbWc6IGRhdGEudXNlckltZywKICAgICAgICAgIGNvbGxlY3Rpb25DbGFzczogZGF0YS5jb2xsZWN0aW9uQ2xhc3MsCiAgICAgICAgICBjb2xsZWN0aW9uUXVlc3Rpb246IGRhdGEuY29sbGVjdGlvblF1ZXN0aW9uCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAocmVzLmRhdGEubXNnID09PSAiZmFpbCIpIHsKICAgICAgICB7CiAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICLmirHmrYnvvIzmnI3liqHlmajplJnor6/vvIzlsIbnq4vljbPnmbvlh7rmgqjnmoTotKblj7fku6Xkv53or4HlronlhajvvIEiCiAgICAgICAgICB9KTsKCiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgTG9nb3V0KCk7CgogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9ob21lJyk7CiAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0KfQ=="},{"version":3,"sources":["D:/DownLoad/shidao-vue-master/src/network/user.js"],"names":["request","Logout","store","GetUser","url","method","UpdateLocal","then","res","data","msg","userInfo","commit","login","userId","id","userName","username","userImg","collectionClass","collectionQuestion","$message","type","message","setTimeout","$router","push"],"mappings":"AAAA,SAASA,OAAT,QAAwB,WAAxB;AACA,SAASC,MAAT,QAAuB,SAAvB;AACA,OAAOC,KAAP,MAAkB,UAAlB,C,CAGA;;AACA,OAAO,SAASC,OAAT,GAAmB;AACtB,SAAOH,OAAO,CAAC;AACXI,IAAAA,GAAG,EAAE,sBADM;AAEXC,IAAAA,MAAM,EAAE;AAFG,GAAD,CAAd;AAIH;AAED,OAAO,SAASC,WAAT,GAAuB;AAAA;;AAG1B;AACA;AACIH,IAAAA,OAAO,GAAGI,IAAV,CAAe,UAACC,GAAD,EAAS;AACpB,UAAIA,GAAG,CAACC,IAAJ,CAASC,GAAT,KAAiB,SAArB,EAAgC;AAC5B,YAAID,IAAI,GAAGD,GAAG,CAACC,IAAJ,CAASE,QAApB;AACAT,QAAAA,KAAK,CAACU,MAAN,CAAa,cAAb,EAA6B;AACzBC,UAAAA,KAAK,EAAE,CADkB;AAEzBC,UAAAA,MAAM,EAAEL,IAAI,CAACM,EAFY;AAGzBC,UAAAA,QAAQ,EAAEP,IAAI,CAACQ,QAHU;AAIzBC,UAAAA,OAAO,EAAET,IAAI,CAACS,OAJW;AAKzBC,UAAAA,eAAe,EAAEV,IAAI,CAACU,eALG;AAMzBC,UAAAA,kBAAkB,EAAEX,IAAI,CAACW;AANA,SAA7B;AASA;AACH;;AACD,UAAIZ,GAAG,CAACC,IAAJ,CAASC,GAAT,KAAiB,MAArB,EAA6B;AAEzB;AACI,UAAA,KAAI,CAACW,QAAL,CAAc;AACVC,YAAAA,IAAI,EAAE,OADI;AAEVC,YAAAA,OAAO,EAAE;AAFC,WAAd;;AAIAC,UAAAA,UAAU,CAAC,YAAM;AACbvB,YAAAA,MAAM;;AACN,YAAA,KAAI,CAACwB,OAAL,CAAaC,IAAb,CAAkB,OAAlB;AACH,WAHS,EAGP,IAHO,CAAV;AAIH;AACJ;AACJ,KA3BD;AA6BH;AAGJ","sourcesContent":["import { request } from './request';\nimport { Logout } from './login';\nimport store from '../store'\n\n\n//用来更新本地的用户状态，每次更改后都要执行！！\nexport function GetUser() {\n    return request({\n        url: '/shidao/fore/GetUser',\n        method: 'get',\n    })\n}\n\nexport function UpdateLocal() {\n\n\n    //请求5次直到成功，5次失败强行登出\n    {\n        GetUser().then((res) => {\n            if (res.data.msg === \"success\") {\n                let data = res.data.userInfo;\n                store.commit('SetUserState', {\n                    login: 1,\n                    userId: data.id,\n                    userName: data.username,\n                    userImg: data.userImg,\n                    collectionClass: data.collectionClass,\n                    collectionQuestion: data.collectionQuestion\n                })\n\n                return;\n            }\n            if (res.data.msg === \"fail\") {\n\n                {\n                    this.$message({\n                        type: \"error\",\n                        message: \"抱歉，服务器错误，将立即登出您的账号以保证安全！\"\n                    })\n                    setTimeout(() => {\n                        Logout();\n                        this.$router.push('/home');\n                    }, 1000)\n                }\n            }\n        })\n\n    }\n\n\n}"]}]}