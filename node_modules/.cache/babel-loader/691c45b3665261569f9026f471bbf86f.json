{"remainingRequest":"D:\\DownLoad\\shidao-vue-master\\node_modules\\babel-loader\\lib\\index.js!D:\\DownLoad\\shidao-vue-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\DownLoad\\shidao-vue-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\DownLoad\\shidao-vue-master\\src\\components\\contant\\collect\\CollectButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\DownLoad\\shidao-vue-master\\src\\components\\contant\\collect\\CollectButton.vue","mtime":1646277929409},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644821604128},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1644821604590},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644821604128},{"path":"D:\\DownLoad\\shidao-vue-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1644821589111}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQ29sbGVjdENsYXNzLCBDYW5jZWxDb2xsZWN0Q2xhc3MsIENvbGxlY3RRdWVzdGlvbiwgQ2FuY2VsQ29sbGVjdFF1ZXN0aW9uIH0gZnJvbSAnLi4vLi4vLi4vbmV0d29yay9jb2xsZWN0JzsKaW1wb3J0IHsgVXBkYXRlTG9jYWwgfSBmcm9tICcuLi8uLi8uLi9uZXR3b3JrL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNvbGxlY3RCdXR0b24iLAogIHByb3BzOiB7CiAgICBxdWVzdGlvbklkOiBudWxsLAogICAgY2xhc3NJZDogbnVsbAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzQ29sbGVjdDogZmFsc2UsCiAgICAgIGlzTG9naW46IHRydWUKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBJc0NvbGxlY3RlZDogZnVuY3Rpb24gSXNDb2xsZWN0ZWQoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJEYXRhLmNvbGxlY3Rpb25RdWVzdGlvbik7CgogICAgICBpZiAodGhpcy5pc0xvZ2luID09PSBmYWxzZSkgewogICAgICAgIGNvbnNvbGUubG9nKCIhIik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuY2xhc3NJZCAhPT0gbnVsbCAmJiB0aGlzLmNsYXNzSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyRGF0YS5jb2xsZWN0aW9uQ2xhc3MgPT09IG51bGwpIHsKICAgICAgICBjb25zb2xlLmxvZygiPyIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIGlmICh0aGlzLnF1ZXN0aW9uSWQgIT09IG51bGwgJiYgdGhpcy5xdWVzdGlvbklkICE9PSB1bmRlZmluZWQgJiYgdGhpcy4kc3RvcmUuc3RhdGUudXNlckRhdGEuY29sbGVjdGlvblF1ZXN0aW9uID09PSBudWxsKSB7CiAgICAgICAgY29uc29sZS5sb2coIj8/Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB2YXIgZmxhZyA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmNsYXNzSWQpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXN0aW9uSWQpOwoKICAgICAgaWYgKHRoaXMuY2xhc3NJZCAhPT0gbnVsbCAmJiB0aGlzLmNsYXNzSWQgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnNvbGUubG9nKCI/Pz8iKTsKICAgICAgICB2YXIgY29sbGVjdENsYXNzID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckRhdGEuY29sbGVjdGlvbkNsYXNzOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJEYXRhLmNvbGxlY3Rpb25DbGFzcyk7CiAgICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAgIHZhciBhcnJheUNsYXNzID0gY29sbGVjdENsYXNzLnNwbGl0KCImIik7CiAgICAgICAgY29uc29sZS5sb2coYXJyYXlDbGFzcyk7CiAgICAgICAgYXJyYXlDbGFzcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgY29uc29sZS5sb2codmFsdWUpOwogICAgICAgICAgY29uc29sZS5sb2codGhhdC5jbGFzc0lkICsgIiIpOwoKICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdGhhdC5jbGFzc0lkICsgIiIpIHsKICAgICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CgogICAgICBpZiAodGhpcy5xdWVzdGlvbklkICE9PSBudWxsICYmIHRoaXMucXVlc3Rpb25JZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5xdWVzdGlvbklkKTsKCiAgICAgICAgdmFyIF90aGF0ID0gdGhpczsKCiAgICAgICAgdmFyIGNvbGxlY3RRdWVzdGlvbiA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJEYXRhLmNvbGxlY3Rpb25RdWVzdGlvbjsKICAgICAgICB2YXIgYXJyYXlRdWVzdGlvbiA9IGNvbGxlY3RRdWVzdGlvbi5zcGxpdCgiJiIpOwogICAgICAgIGFycmF5UXVlc3Rpb24uZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGF0LnF1ZXN0aW9uSWQgKyAiIik7CgogICAgICAgICAgaWYgKHZhbHVlID09PSBfdGhhdC5xdWVzdGlvbklkICsgIiIpIHsKICAgICAgICAgICAgZmxhZyA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOyAvLyBhcnJheVF1ZXN0aW9uLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgLy8gICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGF0LmNsYXNzSWQrIiIpOwogICAgICAgIC8vICAgaWYoZWxlbWVudCA9PT0gdGhpcy5xdWVzdGlvbklkKXsKICAgICAgICAvLyAgICAgIGZsYWcgPSB0cnVlCiAgICAgICAgLy8gICAgIHJldHVybiB0cnVlOwogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0pOwogICAgICB9CgogICAgICB0aGlzLmlzQ29sbGVjdCA9IGZsYWc7CiAgICAgIHJldHVybiBmbGFnOwogICAgfSwKICAgIEJ1dHRvbkNsaWNrOiBmdW5jdGlvbiBCdXR0b25DbGljaygpIHsKICAgICAgaWYgKHRoaXMuaXNMb2dpbiA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOiAi55m75b2V5ZCO5Y2z5Y+v5pS26JePLOivt+WFiOeZu+W9le+8gSIKICAgICAgICB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmNsYXNzSWQgIT0gbnVsbCkgewogICAgICAgIHRoaXMuQ2xhc3NDbGljaygpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucXVlc3Rpb25JZCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5RdWVzdGlvbkNsaWNrKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgQ2xhc3NDbGljazogZnVuY3Rpb24gQ2xhc3NDbGljaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLmlzQ29sbGVjdCA9PT0gdHJ1ZSkgewogICAgICAgIC8v5Y+R6YCB5Y+W5raI5pS26JeP6K+35rGCCiAgICAgICAgQ2FuY2VsQ29sbGVjdENsYXNzKHRoaXMuY2xhc3NJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEubXNnID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgICAgVXBkYXRlTG9jYWwoKTsKICAgICAgICAgICAgX3RoaXMuaXNDb2xsZWN0ID0gZmFsc2U7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJlcy5kYXRhLm1zZyA9PT0gImZhaWwiKSB7CiAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLlj5bmtojmlLbol4/lpLHotKXvvIzor7fph43or5XvvIEiCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5Y+R6YCB5pS26JeP6K+35rGCCiAgICAgICAgQ29sbGVjdENsYXNzKHRoaXMuY2xhc3NJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmRhdGEubXNnID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgICAgVXBkYXRlTG9jYWwoKTsKICAgICAgICAgICAgX3RoaXMuaXNDb2xsZWN0ID0gdHJ1ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVzLmRhdGEubXNnID09PSAiZmFpbCIpIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuaUtuiXj+Wksei0pe+8jOivt+mHjeivle+8gSIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHJlcy5kYXRhLm1zZyA9PT0gIuivvueoi+W3suaUtuiXjyIpIHsKICAgICAgICAgICAgVXBkYXRlTG9jYWwoKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIFF1ZXN0aW9uQ2xpY2s6IGZ1bmN0aW9uIFF1ZXN0aW9uQ2xpY2soKSB7CiAgICAgIGlmICh0aGlzLmlzQ29sbGVjdCA9PT0gdHJ1ZSkgewogICAgICAgIC8v5Y+R6YCB5Y+W5raI5pS26JeP6K+35rGCCiAgICAgICAgY29uc29sZS5sb2codGhpcy5xdWVzdGlvbklkKTsKICAgICAgICBDYW5jZWxDb2xsZWN0UXVlc3Rpb24odGhpcy5xdWVzdGlvbklkKTsKICAgICAgICBVcGRhdGVMb2NhbCgpOwogICAgICAgIHRoaXMuaXNDb2xsZWN0ID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/lj5HpgIHmlLbol4/or7fmsYIKICAgICAgICBDb2xsZWN0UXVlc3Rpb24odGhpcy5xdWVzdGlvbklkKTsKICAgICAgICBVcGRhdGVMb2NhbCgpOwogICAgICAgIHRoaXMuaXNDb2xsZWN0ID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIElzTG9naW46IGZ1bmN0aW9uIElzTG9naW4oKSB7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5sb2dpbiA9PT0gMCkgewogICAgICAgIHRoaXMuaXNMb2dpbiA9IGZhbHNlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmlzTG9naW4gPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuSXNMb2dpbigpKSB7CiAgICAgIHRoaXMuSXNDb2xsZWN0ZWQoKTsKICAgICAgY29uc29sZS5sb2codGhpcy5pc0NvbGxlY3QpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["CollectButton.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"collect\" @click=\"ButtonClick\" >\n      <i v-if=\"isCollect === false\" class=\"el-icon-star-off\"></i>\n      <i v-if=\"isCollect === true\" class=\"el-icon-star-on isC\"></i>\n  </div>\n</template>\n\n<script>\nimport {CollectClass,CancelCollectClass,CollectQuestion,CancelCollectQuestion} from '../../../network/collect';\nimport { UpdateLocal } from '../../../network/user'\nexport default {\n  name:\"CollectButton\",\n  props:{\n    questionId:null,\n    classId:null,\n  },\n  data(){\n    return{\n      isCollect:false,\n      isLogin:true\n    }\n  },\n  methods:{\n    IsCollected(){\n      console.log(this.$store.state.userData.collectionQuestion)\n      if(this.isLogin === false){\n        console.log(\"!\")\n        return false;\n      }\n      else if((this.classId!==null&&this.classId!==undefined)&&this.$store.state.userData.collectionClass === null){\n        console.log(\"?\")\n        return false;\n      }\n      else if((this.questionId!==null&&this.questionId!==undefined)&&this.$store.state.userData.collectionQuestion === null){\n        console.log(\"??\")\n      return false;\n    }\n      let flag = false;\n      console.log(this.classId)\n      console.log(this.questionId)\n      if(this.classId !== null&&this.classId !== undefined){\n        console.log(\"???\")\n        let collectClass =  this.$store.state.userData.collectionClass;\n        console.log(this.$store.state.userData.collectionClass)\n        const that=this;\n        let  arrayClass = collectClass.split(\"&\");\n        console.log(arrayClass);\n        arrayClass.forEach(function (value){\n          console.log(value);\n          console.log(that.classId+\"\");\n          if(value === that.classId+\"\"){\n           flag = true\n          return true;\n          }\n        });\n      }\n  \n      if(this.questionId !== null&&this.questionId !== undefined){\n        console.log(this.questionId)\n        const that=this;\n        let collectQuestion =  this.$store.state.userData.collectionQuestion;\n        let  arrayQuestion = collectQuestion.split(\"&\");\n        arrayQuestion.forEach(function (value){\n          console.log(value);\n          console.log(that.questionId+\"\");\n          if(value === that.questionId+\"\"){\n            flag = true\n            return true;\n          }\n        });\n        // arrayQuestion.forEach(element => {\n        //   console.log(value);\n        //   console.log(that.classId+\"\");\n        //   if(element === this.questionId){\n        //      flag = true\n        //     return true;\n        //   }\n        // });\n      }       \n      this.isCollect = flag;\n      return flag;      \n    },\n\n    ButtonClick(){\n      if(this.isLogin === false){\n        this.$message({\n          type:\"error\",\n          message:\"登录后即可收藏,请先登录！\"\n        })\n        return;\n      } \n      if(this.classId != null){\n        this.ClassClick();\n        return;\n      }\n      if(this.questionId != null){\n        this.QuestionClick();\n        return;\n      }\n    },\n\n    ClassClick(){\n        if(this.isCollect === true){\n        //发送取消收藏请求\n        CancelCollectClass(this.classId).then((res)=>{\n          if(res.data.msg === \"success\"){\n            UpdateLocal();\n            this.isCollect = false;   \n               \n          }\n          if(res.data.msg=== \"fail\"){\n            this.$message({\n              type:\"error\",\n              message:\"取消收藏失败，请重试！\"\n            })\n          }\n\n        })\n        \n        \n      }else{\n        //发送收藏请求\n        CollectClass(this.classId).then((res)=>{\n          if(res.data.msg=== \"success\"){\n            UpdateLocal();\n            this.isCollect = true;   \n               \n          }\n          if(res.data.msg=== \"fail\"){\n            this.$message({\n              type:\"error\",\n              message:\"收藏失败，请重试！\"\n            })\n          }\n           if(res.data.msg === \"课程已收藏\"){\n            UpdateLocal();        \n          }\n          \n        })\n          \n      }\n    },\n\n    QuestionClick(){\n      if(this.isCollect === true){\n      //发送取消收藏请求\n        console.log(this.questionId)\n      CancelCollectQuestion(this.questionId);\n        UpdateLocal();\n        this.isCollect = false;\n      }else{\n        //发送收藏请求\n        CollectQuestion(this.questionId);\n        UpdateLocal();\n        this.isCollect = true;\n      }\n    },\n\n    IsLogin(){\n      if(this.$store.state.login === 0){\n        this.isLogin = false;\n        return false;\n      }else{\n        this.isLogin = true;\n        return true;\n      }\n    }\n  },\n\n  mounted(){\n     \n    if(this.IsLogin()){\n       this.IsCollected();\n       console.log(this.isCollect);\n    } \n  },\n\n}\n</script>\n\n<style scoped>\n\n.collect{\n  position: absolute;\n  cursor: pointer;\n  right: 20%;\n  height: 40px;\n  line-height: 40px;\n  padding: 0 5px;\n  border: 1px solid var(--color-border);\n  border-radius: 5px;\n  font-size: var(--font-size-very-big);\n}\n\n.isC{\n  color: rgb(247, 186, 42);\n}\n\n\n</style>"],"sourceRoot":"src/components/contant/collect"}]}