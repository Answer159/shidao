{"remainingRequest":"C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\src\\components\\contant\\collect\\CollectButton.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\src\\components\\contant\\collect\\CollectButton.vue","mtime":1650696352027},{"path":"C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650696337516},{"path":"C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\babel-loader\\lib\\index.js","mtime":1650696335596},{"path":"C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650696337516},{"path":"C:\\Users\\pc\\Desktop\\光纤\\计算机设计大赛\\师道\\shidao\\node_modules\\vue-loader\\lib\\index.js","mtime":1650696350603}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBDb2xsZWN0Q2xhc3MsIENhbmNlbENvbGxlY3RDbGFzcywgQ29sbGVjdFF1ZXN0aW9uLCBDYW5jZWxDb2xsZWN0UXVlc3Rpb24gfSBmcm9tICcuLi8uLi8uLi9uZXR3b3JrL2NvbGxlY3QnOwppbXBvcnQgeyBVcGRhdGVMb2NhbCB9IGZyb20gJy4uLy4uLy4uL25ldHdvcmsvdXNlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29sbGVjdEJ1dHRvbiIsCiAgcHJvcHM6IHsKICAgIHF1ZXN0aW9uSWQ6IG51bGwsCiAgICBjbGFzc0lkOiBudWxsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNDb2xsZWN0OiBmYWxzZSwKICAgICAgaXNMb2dpbjogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIElzQ29sbGVjdGVkOiBmdW5jdGlvbiBJc0NvbGxlY3RlZCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudXNlckRhdGEuY29sbGVjdGlvblF1ZXN0aW9uKTsKCiAgICAgIGlmICh0aGlzLmlzTG9naW4gPT09IGZhbHNlKSB7CiAgICAgICAgY29uc29sZS5sb2coIiEiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5jbGFzc0lkICE9PSBudWxsICYmIHRoaXMuY2xhc3NJZCAhPT0gdW5kZWZpbmVkICYmIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJEYXRhLmNvbGxlY3Rpb25DbGFzcyA9PT0gbnVsbCkgewogICAgICAgIGNvbnNvbGUubG9nKCI/Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgaWYgKHRoaXMucXVlc3Rpb25JZCAhPT0gbnVsbCAmJiB0aGlzLnF1ZXN0aW9uSWQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyRGF0YS5jb2xsZWN0aW9uUXVlc3Rpb24gPT09IG51bGwpIHsKICAgICAgICBjb25zb2xlLmxvZygiPz8iKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBmbGFnID0gZmFsc2U7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2xhc3NJZCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucXVlc3Rpb25JZCk7CgogICAgICBpZiAodGhpcy5jbGFzc0lkICE9PSBudWxsICYmIHRoaXMuY2xhc3NJZCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY29uc29sZS5sb2coIj8/PyIpOwogICAgICAgIHZhciBjb2xsZWN0Q2xhc3MgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyRGF0YS5jb2xsZWN0aW9uQ2xhc3M7CiAgICAgICAgY29uc29sZS5sb2codGhpcy4kc3RvcmUuc3RhdGUudXNlckRhdGEuY29sbGVjdGlvbkNsYXNzKTsKICAgICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgICAgdmFyIGFycmF5Q2xhc3MgPSBjb2xsZWN0Q2xhc3Muc3BsaXQoIiYiKTsKICAgICAgICBjb25zb2xlLmxvZyhhcnJheUNsYXNzKTsKICAgICAgICBhcnJheUNsYXNzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICAgICAgICBjb25zb2xlLmxvZyh0aGF0LmNsYXNzSWQgKyAiIik7CgogICAgICAgICAgaWYgKHZhbHVlID09PSB0aGF0LmNsYXNzSWQgKyAiIikgewogICAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnF1ZXN0aW9uSWQgIT09IG51bGwgJiYgdGhpcy5xdWVzdGlvbklkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXN0aW9uSWQpOwoKICAgICAgICB2YXIgX3RoYXQgPSB0aGlzOwoKICAgICAgICB2YXIgY29sbGVjdFF1ZXN0aW9uID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlckRhdGEuY29sbGVjdGlvblF1ZXN0aW9uOwogICAgICAgIHZhciBhcnJheVF1ZXN0aW9uID0gY29sbGVjdFF1ZXN0aW9uLnNwbGl0KCImIik7CiAgICAgICAgYXJyYXlRdWVzdGlvbi5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgY29uc29sZS5sb2codmFsdWUpOwogICAgICAgICAgY29uc29sZS5sb2coX3RoYXQucXVlc3Rpb25JZCArICIiKTsKCiAgICAgICAgICBpZiAodmFsdWUgPT09IF90aGF0LnF1ZXN0aW9uSWQgKyAiIikgewogICAgICAgICAgICBmbGFnID0gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSk7IC8vIGFycmF5UXVlc3Rpb24uZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHZhbHVlKTsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKHRoYXQuY2xhc3NJZCsiIik7CiAgICAgICAgLy8gICBpZihlbGVtZW50ID09PSB0aGlzLnF1ZXN0aW9uSWQpewogICAgICAgIC8vICAgICAgZmxhZyA9IHRydWUKICAgICAgICAvLyAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuaXNDb2xsZWN0ID0gZmxhZzsKICAgICAgcmV0dXJuIGZsYWc7CiAgICB9LAogICAgQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIEJ1dHRvbkNsaWNrKCkgewogICAgICBpZiAodGhpcy5pc0xvZ2luID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgIG1lc3NhZ2U6ICLnmbvlvZXlkI7ljbPlj6/mlLbol48s6K+35YWI55m75b2V77yBIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY2xhc3NJZCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5DbGFzc0NsaWNrKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy5xdWVzdGlvbklkICE9IG51bGwpIHsKICAgICAgICB0aGlzLlF1ZXN0aW9uQ2xpY2soKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0sCiAgICBDbGFzc0NsaWNrOiBmdW5jdGlvbiBDbGFzc0NsaWNrKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuaXNDb2xsZWN0ID09PSB0cnVlKSB7CiAgICAgICAgLy/lj5HpgIHlj5bmtojmlLbol4/or7fmsYIKICAgICAgICBDYW5jZWxDb2xsZWN0Q2xhc3ModGhpcy5jbGFzc0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5tc2cgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICBVcGRhdGVMb2NhbCgpOwogICAgICAgICAgICBfdGhpcy5pc0NvbGxlY3QgPSBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVzLmRhdGEubXNnID09PSAiZmFpbCIpIHsKICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuWPlua2iOaUtuiXj+Wksei0pe+8jOivt+mHjeivle+8gSIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/lj5HpgIHmlLbol4/or7fmsYIKICAgICAgICBDb2xsZWN0Q2xhc3ModGhpcy5jbGFzc0lkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5tc2cgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICBVcGRhdGVMb2NhbCgpOwogICAgICAgICAgICBfdGhpcy5pc0NvbGxlY3QgPSB0cnVlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChyZXMuZGF0YS5tc2cgPT09ICJmYWlsIikgewogICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAi5pS26JeP5aSx6LSl77yM6K+36YeN6K+V77yBIgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVzLmRhdGEubXNnID09PSAi6K++56iL5bey5pS26JePIikgewogICAgICAgICAgICBVcGRhdGVMb2NhbCgpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgUXVlc3Rpb25DbGljazogZnVuY3Rpb24gUXVlc3Rpb25DbGljaygpIHsKICAgICAgaWYgKHRoaXMuaXNDb2xsZWN0ID09PSB0cnVlKSB7CiAgICAgICAgLy/lj5HpgIHlj5bmtojmlLbol4/or7fmsYIKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnF1ZXN0aW9uSWQpOwogICAgICAgIENhbmNlbENvbGxlY3RRdWVzdGlvbih0aGlzLnF1ZXN0aW9uSWQpOwogICAgICAgIFVwZGF0ZUxvY2FsKCk7CiAgICAgICAgdGhpcy5pc0NvbGxlY3QgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+WPkemAgeaUtuiXj+ivt+axggogICAgICAgIENvbGxlY3RRdWVzdGlvbih0aGlzLnF1ZXN0aW9uSWQpOwogICAgICAgIFVwZGF0ZUxvY2FsKCk7CiAgICAgICAgdGhpcy5pc0NvbGxlY3QgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgSXNMb2dpbjogZnVuY3Rpb24gSXNMb2dpbigpIHsKICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luID09PSAwKSB7CiAgICAgICAgdGhpcy5pc0xvZ2luID0gZmFsc2U7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNMb2dpbiA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5Jc0xvZ2luKCkpIHsKICAgICAgdGhpcy5Jc0NvbGxlY3RlZCgpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmlzQ29sbGVjdCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CollectButton.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"collect\" @click=\"ButtonClick\" >\r\n      <i v-if=\"isCollect === false\" class=\"el-icon-star-off\"></i>\r\n      <i v-if=\"isCollect === true\" class=\"el-icon-star-on isC\"></i>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {CollectClass,CancelCollectClass,CollectQuestion,CancelCollectQuestion} from '../../../network/collect';\r\nimport { UpdateLocal } from '../../../network/user'\r\nexport default {\r\n  name:\"CollectButton\",\r\n  props:{\r\n    questionId:null,\r\n    classId:null,\r\n  },\r\n  data(){\r\n    return{\r\n      isCollect:false,\r\n      isLogin:true\r\n    }\r\n  },\r\n  methods:{\r\n    IsCollected(){\r\n      console.log(this.$store.state.userData.collectionQuestion)\r\n      if(this.isLogin === false){\r\n        console.log(\"!\")\r\n        return false;\r\n      }\r\n      else if((this.classId!==null&&this.classId!==undefined)&&this.$store.state.userData.collectionClass === null){\r\n        console.log(\"?\")\r\n        return false;\r\n      }\r\n      else if((this.questionId!==null&&this.questionId!==undefined)&&this.$store.state.userData.collectionQuestion === null){\r\n        console.log(\"??\")\r\n      return false;\r\n    }\r\n      let flag = false;\r\n      console.log(this.classId)\r\n      console.log(this.questionId)\r\n      if(this.classId !== null&&this.classId !== undefined){\r\n        console.log(\"???\")\r\n        let collectClass =  this.$store.state.userData.collectionClass;\r\n        console.log(this.$store.state.userData.collectionClass)\r\n        const that=this;\r\n        let  arrayClass = collectClass.split(\"&\");\r\n        console.log(arrayClass);\r\n        arrayClass.forEach(function (value){\r\n          console.log(value);\r\n          console.log(that.classId+\"\");\r\n          if(value === that.classId+\"\"){\r\n           flag = true\r\n          return true;\r\n          }\r\n        });\r\n      }\r\n  \r\n      if(this.questionId !== null&&this.questionId !== undefined){\r\n        console.log(this.questionId)\r\n        const that=this;\r\n        let collectQuestion =  this.$store.state.userData.collectionQuestion;\r\n        let  arrayQuestion = collectQuestion.split(\"&\");\r\n        arrayQuestion.forEach(function (value){\r\n          console.log(value);\r\n          console.log(that.questionId+\"\");\r\n          if(value === that.questionId+\"\"){\r\n            flag = true\r\n            return true;\r\n          }\r\n        });\r\n        // arrayQuestion.forEach(element => {\r\n        //   console.log(value);\r\n        //   console.log(that.classId+\"\");\r\n        //   if(element === this.questionId){\r\n        //      flag = true\r\n        //     return true;\r\n        //   }\r\n        // });\r\n      }       \r\n      this.isCollect = flag;\r\n      return flag;      \r\n    },\r\n\r\n    ButtonClick(){\r\n      if(this.isLogin === false){\r\n        this.$message({\r\n          type:\"error\",\r\n          message:\"登录后即可收藏,请先登录！\"\r\n        })\r\n        return;\r\n      } \r\n      if(this.classId != null){\r\n        this.ClassClick();\r\n        return;\r\n      }\r\n      if(this.questionId != null){\r\n        this.QuestionClick();\r\n        return;\r\n      }\r\n    },\r\n\r\n    ClassClick(){\r\n        if(this.isCollect === true){\r\n        //发送取消收藏请求\r\n        CancelCollectClass(this.classId).then((res)=>{\r\n          if(res.data.msg === \"success\"){\r\n            UpdateLocal();\r\n            this.isCollect = false;   \r\n               \r\n          }\r\n          if(res.data.msg=== \"fail\"){\r\n            this.$message({\r\n              type:\"error\",\r\n              message:\"取消收藏失败，请重试！\"\r\n            })\r\n          }\r\n\r\n        })\r\n        \r\n        \r\n      }else{\r\n        //发送收藏请求\r\n        CollectClass(this.classId).then((res)=>{\r\n          if(res.data.msg=== \"success\"){\r\n            UpdateLocal();\r\n            this.isCollect = true;   \r\n               \r\n          }\r\n          if(res.data.msg=== \"fail\"){\r\n            this.$message({\r\n              type:\"error\",\r\n              message:\"收藏失败，请重试！\"\r\n            })\r\n          }\r\n           if(res.data.msg === \"课程已收藏\"){\r\n            UpdateLocal();        \r\n          }\r\n          \r\n        })\r\n          \r\n      }\r\n    },\r\n\r\n    QuestionClick(){\r\n      if(this.isCollect === true){\r\n      //发送取消收藏请求\r\n        console.log(this.questionId)\r\n      CancelCollectQuestion(this.questionId);\r\n        UpdateLocal();\r\n        this.isCollect = false;\r\n      }else{\r\n        //发送收藏请求\r\n        CollectQuestion(this.questionId);\r\n        UpdateLocal();\r\n        this.isCollect = true;\r\n      }\r\n    },\r\n\r\n    IsLogin(){\r\n      if(this.$store.state.login === 0){\r\n        this.isLogin = false;\r\n        return false;\r\n      }else{\r\n        this.isLogin = true;\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted(){\r\n     \r\n    if(this.IsLogin()){\r\n       this.IsCollected();\r\n       console.log(this.isCollect);\r\n    } \r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.collect{\r\n  position: absolute;\r\n  cursor: pointer;\r\n  right: 20%;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  padding: 0 5px;\r\n  border: 1px solid var(--color-border);\r\n  border-radius: 5px;\r\n  font-size: var(--font-size-very-big);\r\n}\r\n\r\n.isC{\r\n  color: rgb(247, 186, 42);\r\n}\r\n\r\n\r\n</style>"],"sourceRoot":"src/components/contant/collect"}]}